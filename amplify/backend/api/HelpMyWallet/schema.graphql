enum IncomeOrExpense {
  INCOME
  EXPENSE
}

type Calendar @model @auth(rules: [{allow: public}]) {
  id: ID!
  date: AWSDate
  type: IncomeOrExpense
  author_id: ID!
  amount: Float!
}

type ExpenseGroup @model @auth(rules: [{allow: public}]) {
  id: ID!
  name: String!
  author_id: ID!
  color: String
}

enum IncomeRecurrence {
  ONCE
  DAILY
  MONTHLY
  QUARTERLY
  YEARLY
}

type Icon {
  Icon_name: String
  Icon_type: String
}

type Income @model @auth(rules: [{allow: public}]) {
  id: ID!
  amount: Float!
  name: String!
  author_id: ID!
  icon: Icon
  recurrence: IncomeRecurrence!
  start_date: AWSDate!
  end_date: AWSDate
}

type Merchant @model @auth(rules: [{allow: public}]) {
  id: ID!
  merchant_name: String!
  author_id: ID!
  image: String
  category_id: ID
  keywords: [String]
  Transactions: [Transactions] @hasMany(indexName: "byMerchant", fields: ["id"])
}

enum TransactionType {
  CREDIT
  DEBIT
}

type Transactions @model @auth(rules: [{allow: public}]) {
  id: ID!
  post_date: AWSDate
  transaction_date: AWSDate!
  amount: Float!
  description: String!
  author_id: ID!
  category_id: ID
  transaction_type: TransactionType!
  merchantID: ID @index(name: "byMerchant")
}
 